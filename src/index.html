<!doctype html>
<html>

<head>
    <meta charset="UTF-8" />
    <title>YT-DLP Downloader</title>
    <link rel="stylesheet" href="styles.css" />
</head>

<body>
    <div class="container">
        <h1>YT-DLP Downloader</h1>

        <div class="input-row">
            <div class="input-group url-input">
                <label for="url">Video URL:</label>
                <input type="url" id="url" placeholder="Enter video URL" />
            </div>

            <div class="input-group short-input">
                <label for="browser">Browser for Cookies:</label>
                <select id="browser">
                    <option value="" selected>No cookies</option>
                    <option value="brave">Brave</option>
                    <option value="chrome">Chrome</option>
                    <option value="firefox">Firefox</option>
                    <option value="safari">Safari</option>
                </select>
            </div>
        </div>

        <div class="input-row">
            <div class="input-group">
                <label for="action">Action:</label>
                <select id="action">
                    <option value="Download Video (Best Quality)">
                        Download Video (Best Quality)
                    </option>
                    <option value="List Formats">List Formats</option>
                    <option value="Choose Format">Choose Format</option>
                    <option value="Download Subtitles">Download Subtitles</option>
                    <option value="Download & Re-encode as high quality MP4 (H.264/AAC)">
                        Download & Re-encode as high quality MP4 (H.264/AAC)
                    </option>
                    <option value="Download & Add Hardsub (Only Support on macOS)">
                        Download & Add Hardsub (Only Support on macOS)
                    </option>
                </select>
            </div>

            <div class="input-group">
                <label for="downloadFolder">Download Folder:</label>
                <div class="folder-input">
                    <input type="text" id="downloadFolder" readonly />
                    <button onclick="window.chooseFolder()">Choose</button>
                </div>
            </div>

            <div class="input-group run-button-group">
                <button class="run-button" onclick="window.runCommand()">Run</button>
            </div>
        </div>

        <div class="input-row">
            <div class="input-group short-input" id="formatCodeGroup" style="display: none">
                <label for="formatCode">Format Code:</label>
                <input type="text" id="formatCode" placeholder="e.g., 140, 356, or 140+356" />
            </div>

            <div class="input-group short-input" id="codecGroup" style="display: none">
                <label for="codec">Video Codec:</label>
                <select id="codec">
                    <option value="h264">H.264 (Better Compatibility)</option>
                    <option value="hevc">HEVC (Better Quality)</option>
                </select>
            </div>
        </div>

        <div id="hardsubControls" style="display: none; margin-bottom: 10px;">
            <button id="cancelHardsubBtn"
                style="background-color: #d32f2f; color: white; padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer;">Cancel
                Hardsub</button>
        </div>

        <div id="reEncodeControls" style="display: none; margin-bottom: 10px;">
            <button id="cancelReEncodeBtn"
                style="background-color: #d32f2f; color: white; padding: 5px 10px; border: none; border-radius: 4px; cursor: pointer;">Cancel
                Re-encoding</button>
        </div>
        <div id="output"></div>

        <!-- Subtitle Selection Modal -->
        <div id="subtitleModal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>Select Subtitle Language</h2>
                <div id="subtitleList" class="subtitle-list"></div>
                <div class="modal-buttons">
                    <button id="cancelSubtitleBtn" class="cancel-btn">Cancel</button>
                </div>
            </div>
        </div>

        <div class="update-button-container">
            <button class="update-button" onclick="checkUpdate()">Check for Updates</button>
        </div>
    </div>
    <script src="renderer.js"></script>
</body>

</html>